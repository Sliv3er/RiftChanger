# RiftChanger

<div align="center">
  <h3>⚡ League of Legends Custom Skin Manager</h3>
  <p>A premium desktop companion for managing and applying custom skins</p>
</div>

---

## Features

- **Champion Browser** — Browse all 170+ champions with official splash arts from Riot's Data Dragon API
- **Skin Library Scanner** — Automatically scans and validates your local skin collection (8000+ fantome ZIPs supported)
- **Chroma Support** — Full chroma browsing and application per skin
- **CSLoL Manager Integration** — Uses CSLoL Manager as the injection backend (auto-downloaded)
- **League-Style UI** — Dark gold/blue aesthetic matching the League client
- **Backup & Rollback** — Create backups before applying, restore anytime
- **Game Detection** — Auto-detects League of Legends installation
- **Patch Tracking** — Shows current game patch, validates compatibility
- **Dry-Run Logs** — Full logging of every action, no silent modifications

## Screenshots

The app features a League of Legends-inspired dark interface with:
- Gold accent borders and typography
- Champion grid with skin count badges
- Splash art previews
- Chroma selectors
- Apply/remove controls

## Requirements

- Windows 10/11
- League of Legends installed
- Node.js 18+ (for development)

## Installation

### From Release
Download the latest `.exe` from [Releases](https://github.com/Sliv3er/RiftChanger/releases).

### From Source
```bash
git clone https://github.com/Sliv3er/RiftChanger.git
cd RiftChanger
npm install
npm run electron:dev    # Development
npm run electron:build  # Build .exe
```

## Usage

1. **Launch RiftChanger**
2. **Set Skins Path** — Point to your `lolskins` folder (or any fantome-format skin collection)
3. **Scan** — The app validates every ZIP (checks META/info.json + WAD structure)
4. **Browse Champions** — See official skins with availability status
5. **Apply Skins** — One-click application via CSLoL Manager backend
6. **Chromas** — Expand chromas for any skin and apply individually

## Skin Format

RiftChanger works with **fantome-format** skin ZIPs:
```
skin.zip
├── META/
│   └── info.json    {"Author": "...", "Name": "...", "Version": "1.0.0"}
└── WAD/
    └── Champion.wad.client
```

This is the same format used by CSLoL Manager and generated by tools like [ritoskin](https://github.com/nylish/ritoskin).

## Architecture

```
RiftChanger/
├── electron/           # Main process
│   ├── main.ts         # Window + IPC registration
│   ├── preload.ts      # Context bridge API
│   └── services/
│       ├── skinScanner.ts   # Scans & validates skin ZIPs
│       ├── assetService.ts  # Data Dragon + Community Dragon API
│       ├── gameDetector.ts  # Finds LoL installation
│       ├── cslolService.ts  # CSLoL Manager download & integration
│       └── backupService.ts # Backup/restore system
├── src/                # Renderer (React + Vite)
│   ├── App.tsx
│   ├── components/     # Layout, Sidebar, Titlebar
│   └── pages/          # Dashboard, Champions, ChampionDetail, Settings, Logs
└── package.json
```

## Skin Library Forensics Report

### Structure Analysis
The skin library (from [darkseal-org/lol-skins](https://github.com/darkseal-org/lol-skins)) contains:
- **170 champion folders**
- **1,820 base skins** (fantome ZIPs)
- **6,279 chromas** (organized by skin name with numeric IDs)
- **9 forms** (e.g., Elementalist Lux variants)
- **3 exalted** variants (e.g., Arcane Fractured Jinx)
- **8,164 total ZIP files**

### Format
All skins use the **fantome format** — the standard for CSLoL Manager:
- `META/info.json` — metadata (author: darkseal.org, generated by ritoskin)
- `WAD/<Champion>.wad.client` — compiled WAD overlay replacing game textures/models

### Why Skins Break After Patches
1. **WAD hash mismatches** — Riot updates internal asset hashes each patch; old WADs reference stale paths
2. **Champion reworks** — Model/skeleton changes invalidate old WAD overlays
3. **New material system** — Riot periodically updates shaders and material definitions
4. **File path renames** — Internal asset paths change between patches

### Fix Strategy
These skins need to be **regenerated per patch** using ritoskin or similar tools against current game files. The ZIPs themselves are structurally valid — the issue is that the WAD contents reference outdated game internals. RiftChanger validates structure but cannot regenerate WADs without access to the game's current internal file tree.

## License

MIT

## Credits

- Skin library: [darkseal-org/lol-skins](https://github.com/darkseal-org/lol-skins)
- Injection engine: [CSLoL Manager](https://github.com/LeagueToolkit/cslol-manager)
- Game data: [Riot Data Dragon](https://developer.riotgames.com/docs/lol#data-dragon)
- Chroma images: [Community Dragon](https://communitydragon.org/)
